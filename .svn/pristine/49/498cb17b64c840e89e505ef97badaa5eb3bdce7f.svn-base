from util.gdd import *
import time
import logging


def main():
    logging.basicConfig(filename='populate_gdd.log',
                        level=logging.INFO,
                        format='%(asctime)s %(message)s',
                        datefmt='%m/%d/%Y %I:%M:%S %p')
    t0 = time.time()
    logging.info('beginning script populate_gdd.py')

    # populate 30 year average for each day's agdd based on prism data
    # import_average_agdd(1981, 2011)

    # populate agdds for year
    # files older than 3 days won't get overwritten, but newer ones will due to tmin/tmax updates
    agdd_date = date(2015, 12, 31)
    import_agdd(agdd_date)

    # populate agdd anomolies
    # files older than 3 days won't get overwritten, but newer ones will due to tmin/tmax updates
    agdd_anom_date = date(2015, 12, 31)
    import_agdd_anomalies(agdd_anom_date)

    t1 = time.time()
    logging.info('populate_gdd.py finished in %s seconds', t1-t0)

if __name__ == "__main__":
    main()